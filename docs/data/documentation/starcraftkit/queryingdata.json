{"metadata":{"title":"Querying Data","roleHeading":"Article","modules":[{"name":"StarCraftKit"}],"role":"article"},"schemaVersion":{"patch":0,"minor":3,"major":0},"kind":"article","abstract":[{"text":"Learn how to use ","type":"text"},{"identifier":"doc:\/\/StarCraftKit\/documentation\/StarCraftKit\/QueryParameters","isActive":true,"type":"reference"},{"text":" to filter, sort, and paginate API results.","type":"text"}],"seeAlsoSections":[{"title":"Making Requests","generated":true,"identifiers":["doc:\/\/StarCraftKit\/documentation\/StarCraftKit\/BasicRequests"],"anchor":"Making-Requests"}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"text":"Overview","anchor":"Overview","type":"heading"},{"inlineContent":[{"text":"StarCraftKit provides a powerful query builder that allows you to customize your API requests with filtering, sorting, searching, and pagination options.","type":"text"}],"type":"paragraph"},{"level":2,"text":"Basic Query Building","anchor":"Basic-Query-Building","type":"heading"},{"inlineContent":[{"type":"text","text":"Use "},{"type":"reference","identifier":"doc:\/\/StarCraftKit\/documentation\/StarCraftKit\/QueryParameters","isActive":true},{"type":"text","text":" to build your queries:"}],"type":"paragraph"},{"syntax":"swift","code":["let parameters = QueryParameters()","    .filter(by: \"nationality\", value: \"KR\")","    .sort(by: \"name\", order: .ascending)","    .perPage(20)","    .page(1)","","let players = try await client.getPlayers(parameters: parameters)"],"type":"codeListing"},{"level":2,"text":"Filtering","anchor":"Filtering","type":"heading"},{"level":3,"text":"Single Filter","anchor":"Single-Filter","type":"heading"},{"syntax":"swift","code":["\/\/ Get only Korean players","let parameters = QueryParameters()","    .filter(by: \"nationality\", value: \"KR\")"],"type":"codeListing"},{"level":3,"text":"Multiple Filters","anchor":"Multiple-Filters","type":"heading"},{"syntax":"swift","code":["\/\/ Get Korean Terran players","let parameters = QueryParameters()","    .filter(by: \"nationality\", value: \"KR\")","    .filter(by: \"race\", value: \"terran\")"],"type":"codeListing"},{"level":3,"text":"Range Filters","anchor":"Range-Filters","type":"heading"},{"syntax":"swift","code":["\/\/ Get matches from the last week","let weekAgo = Date().addingTimeInterval(-7 * 24 * 60 * 60)","let now = Date()","","let parameters = QueryParameters()","    .range(field: \"scheduled_at\", from: weekAgo, to: now)"],"type":"codeListing"},{"level":2,"text":"Searching","anchor":"Searching","type":"heading"},{"inlineContent":[{"text":"Search across multiple fields:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ Search for players or teams containing \"SKT\"","let parameters = QueryParameters()","    .search(\"SKT\")","","let players = try await client.getPlayers(parameters: parameters)","let teams = try await client.getTeams(parameters: parameters)"],"type":"codeListing"},{"level":2,"text":"Sorting","anchor":"Sorting","type":"heading"},{"level":3,"text":"Single Sort","anchor":"Single-Sort","type":"heading"},{"syntax":"swift","code":["\/\/ Sort by player name","let parameters = QueryParameters()","    .sort(by: \"name\", order: .ascending)"],"type":"codeListing"},{"level":3,"text":"Multiple Sorts","anchor":"Multiple-Sorts","type":"heading"},{"syntax":"swift","code":["\/\/ Sort by date first, then by name","let parameters = QueryParameters()","    .sort(by: \"scheduled_at\", order: .descending)","    .sort(by: \"name\", order: .ascending)"],"type":"codeListing"},{"level":2,"text":"Pagination","anchor":"Pagination","type":"heading"},{"inlineContent":[{"type":"text","text":"Control the number of results and page through large datasets:"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ Get 50 results per page","let parameters = QueryParameters()","    .perPage(50)","    .page(2) \/\/ Get the second page"],"type":"codeListing"},{"level":3,"text":"Handling Paginated Results","anchor":"Handling-Paginated-Results","type":"heading"},{"syntax":"swift","code":["func fetchAllPlayers() async throws -> [Player] {","    var allPlayers: [Player] = []","    var page = 1","    var hasMore = true","    ","    while hasMore {","        let parameters = QueryParameters()","            .perPage(100)","            .page(page)","        ","        let (players, pagination) = try await client.getPlayersWithPagination(parameters: parameters)","        allPlayers.append(contentsOf: players)","        ","        hasMore = pagination.hasNextPage","        page += 1","    }","    ","    return allPlayers","}"],"type":"codeListing"},{"level":2,"text":"Complex Queries","anchor":"Complex-Queries","type":"heading"},{"inlineContent":[{"type":"text","text":"Combine multiple query options for sophisticated searches:"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ Get recent Korean tournament matches","let parameters = QueryParameters()","    .filter(by: \"tournament_level\", value: \"tier1\")","    .filter(by: \"opponent1.nationality\", value: \"KR\")","    .range(field: \"scheduled_at\", ","           from: Date().addingTimeInterval(-30 * 24 * 60 * 60),","           to: Date())","    .sort(by: \"scheduled_at\", order: .descending)","    .perPage(50)","","let matches = try await client.getMatches(parameters: parameters)"],"type":"codeListing"},{"level":2,"text":"Available Filter Fields","anchor":"Available-Filter-Fields","type":"heading"},{"level":3,"text":"Players","anchor":"Players","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"nationality","type":"codeVoice"},{"type":"text","text":": Country code (e.g., “KR”, “US”)"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"team_id"},{"type":"text","text":": Current team ID"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"race","type":"codeVoice"},{"text":": Player’s race (terran, zerg, protoss)","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":3,"text":"Matches","anchor":"Matches","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"status"},{"text":": Match status (not_started, running, finished)","type":"text"}]}]},{"content":[{"inlineContent":[{"code":"tournament_id","type":"codeVoice"},{"text":": Tournament ID","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"opponent_id","type":"codeVoice"},{"text":": Player or team ID","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"scheduled_at","type":"codeVoice"},{"type":"text","text":": Match date\/time"}]}]}],"type":"unorderedList"},{"level":3,"text":"Teams","anchor":"Teams","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"acronym"},{"type":"text","text":": Team abbreviation"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"location","type":"codeVoice"},{"text":": Team location","type":"text"}]}]}],"type":"unorderedList"},{"level":3,"text":"Tournaments","anchor":"Tournaments","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"tier"},{"type":"text","text":": Tournament tier (s, a, b, c, d)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"prizepool"},{"type":"text","text":": Prize pool amount"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"serie_id"},{"type":"text","text":": Series ID"}]}]}],"type":"unorderedList"},{"level":2,"text":"Performance Tips","anchor":"Performance-Tips","type":"heading"},{"items":[{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Use specific filters","type":"text"}]},{"type":"text","text":" to reduce response size"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Limit results"}],"type":"strong"},{"text":" with ","type":"text"},{"code":"perPage()","type":"codeVoice"},{"text":" when you don’t need all data","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"text":"Cache responses","type":"text"}],"type":"strong"},{"text":" for frequently accessed data","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Use pagination","type":"text"}],"type":"strong"},{"text":" for large datasets instead of requesting everything","type":"text"}]}]}],"type":"orderedList"},{"level":2,"text":"Error Handling","anchor":"Error-Handling","type":"heading"},{"inlineContent":[{"type":"text","text":"Handle query-related errors:"}],"type":"paragraph"},{"syntax":"swift","code":["do {","    let results = try await client.getMatches(parameters: parameters)","} catch APIError.invalidRequest(let reason) {","    print(\"Invalid query: \\(reason)\")","} catch {","    print(\"Query failed: \\(error)\")","}"],"type":"codeListing"}]}],"variants":[{"paths":["\/documentation\/starcraftkit\/queryingdata"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/StarCraftKit\/documentation\/StarCraftKit"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/StarCraftKit\/documentation\/StarCraftKit\/QueryingData"},"sections":[],"references":{"doc://StarCraftKit/documentation/StarCraftKit/BasicRequests":{"abstract":[{"type":"text","text":"Learn how to fetch different types of StarCraft II esports data using StarCraftKit."}],"role":"article","type":"topic","url":"\/documentation\/starcraftkit\/basicrequests","title":"Basic Requests","identifier":"doc:\/\/StarCraftKit\/documentation\/StarCraftKit\/BasicRequests","kind":"article"},"doc://StarCraftKit/documentation/StarCraftKit":{"abstract":[{"type":"text","text":"A modern Swift SDK for accessing StarCraft II esports data through the PandaScore API."}],"role":"collection","type":"topic","url":"\/documentation\/starcraftkit","title":"StarCraftKit","identifier":"doc:\/\/StarCraftKit\/documentation\/StarCraftKit","kind":"symbol"},"doc://StarCraftKit/documentation/StarCraftKit/QueryParameters":{"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"QueryParameters","kind":"identifier"}],"abstract":[{"type":"text","text":"Query parameters for API requests"}],"role":"symbol","type":"topic","url":"\/documentation\/starcraftkit\/queryparameters","title":"QueryParameters","navigatorTitle":[{"text":"QueryParameters","kind":"identifier"}],"identifier":"doc:\/\/StarCraftKit\/documentation\/StarCraftKit\/QueryParameters","kind":"symbol"}}}